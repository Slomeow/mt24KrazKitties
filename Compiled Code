#include <Servo.h>

// Servo objects
Servo catservo; // Cat spin servo
Servo Aspinservo; // Alice spin servo

// Button pins
const int catButtonPin = 3; // Alice steps on the spot to activate button
const int aliceButtonPin = 2; // The pin where electricity will flow to the wires

// LED pins
const int LED_blue1 = 4;   // The first blue pin
const int LED_white1 = 5; // The white pin
const int LED_blue2 = 6; // 2nd blue pin

// Button states
int catButtonState = 0;
int aliceButtonState = 0;
int previousCatButtonState = 0;
int previousAliceButtonState = 0;

void setup() {
 // Attach servos
 catservo.attach(8); // Attaches cat servo to pin 8
 Aspinservo.attach(9); // Attaches Alice servo to pin 9

 // Set button pins as input
 pinMode(catButtonPin, INPUT);
 pinMode(aliceButtonPin, INPUT);

 // Set LED pins as output
 pinMode(LED_blue1, OUTPUT);
 pinMode(LED_white1, OUTPUT);
 pinMode(LED_blue2, OUTPUT);

 // Initialize serial communication
 Serial.begin(9600);

 // Initial servo positions
 catservo.write(180);
 Aspinservo.write(-180);
}

void loop() {
 // Cat button logic
 catButtonState = digitalRead(catButtonPin);
 if (catButtonState != previousCatButtonState) {
    if (catButtonState == HIGH) {
      Serial.println("Cat button pressed");
      for (int pos = 180; pos >= 0; pos -= 1) {
        catservo.write(pos);
        delay(15);
      }
    } else {
      Serial.println("Cat button released");
      delay(15);
    }
 }
 previousCatButtonState = catButtonState;

 // Alice button logic
 aliceButtonState = digitalRead(aliceButtonPin);
 if (aliceButtonState != previousAliceButtonState) {
    if (aliceButtonState == HIGH) {
      Serial.println("Alice button pressed");
      Aspinservo.write(-180);
      delay(15);
    } else {
      Serial.println("Alice button released");
    }
 }
 previousAliceButtonState = aliceButtonState;

 // LED logic
 digitalWrite(LED_blue1, HIGH);
 delay(1000);
 digitalWrite(LED_blue1, LOW);
 delay(10);
 digitalWrite(LED_white1, HIGH);
 delay(1000);
 digitalWrite(LED_white1, LOW);
 delay(10);
 digitalWrite(LED_blue2, HIGH);
 delay(1000);
 digitalWrite(LED_blue2, LOW);
 delay(10);
}
